<loader ng-if="createLoader" l-title="Creating Module..."></loader>

<md-dialog aria-label="Mango (Fruit)">

  <form name="init_bot" ng-clock style="width:701px">
    <md-toolbar >
      <div class="md-toolbar-tools" >
        <h2>Get Your Bot</h2>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="closeDialog()">
          <md-icon><i class="material-icons">close</i></md-icon>
        </md-button>
      </div>
    </md-toolbar>

    <md-dialog-content>
      <div class="md-dialog-content">


        

      
       <div ng-show="!showSetup" >
        <div class="md-caption" style="color:#555" >Insert below javascript snippet to your App.</div><br/>

        <code class="caption" style="background-color: #f5f5f5;color:#777"> 
        &#60;script chat-bot-id="{{_auth_user_id}}" type="text/javascript" src="http://127.0.0.1:3000/bot-client/bot.min.js"&#62;&#60;/script&#62;
          
        </code>

          <md-button class="md-block md-raised" ng-click="showSetup = true">Setup Bot </md-button>
      </div>

        <md-card class="fadeIn anim " ng-if="showSetup" md-theme="{{ showDarkTheme ? 'dark-orange' : 'default' }}" md-theme-watch>
              <md-card-title >
                <md-card-title-text>
                  <span class="md-headline">Setup Bot</span>
                  <span class="md-subhead md-caption">Bot initializers</span>
                </md-card-title-text>
              </md-card-title>
              <md-card-content layout-sm="row" layout-align="space-between">
                <div class="md-media-sm card-media">

                    <div class="in-aria row">
                    <div class="title">Welcome Message : </div>
                    <div class="input"> 
                       <auto-add-input ng-model="i_b_input.msg" name="i_welcome">
                              <input type="text" placeholder="Messages" data-array="$index" required/>
                          </auto-add-input>
                       <div class="in-err flash" ng-if="init_bot.i_welcome.$viewValue.length==0 && err.show">Specify atleast one message! </div>
                    </div>
                  </div>


                  <div class="in-aria row">
                    <div class="title">Suggestion</div>
                    <div class="input"> 
                          <md-input-container class="md-block" flex-gt-sm >
                            <md-select ng-model="i_b_input.shortcut" name="i_sug">
                              <md-option ng-repeat="item in suggestion_type_array" value="{{item.value}}">
                                {{item.title}}
                              </md-option>
                            </md-select>
                          </md-input-container>

                       <div ng-show="i_b_input.shortcut != 'none'">
                        <div class="sub-info md-caption">Suggestion Items:</div>
                           <auto-add-input ng-model="i_b_input.shortcutData" name="i_sh_array">
                              <input type="text" placeholder="add items" data-array="$index" required/>
                          </auto-add-input>
                          <div class="in-err flash" ng-if="i_b_input.shortcutData.length == 0 && err.show">Specify atleast one Suggestion Item !</div>
                       </div>
                    </div>
                  </div> 
                   
                   <md-divider></md-divider><br/>
                   
                   <span class="md-subhead">Theme Setup</span><br/><br/>
                  

                  <div class="in-aria row">
                    <div class="title">Theme Bg Color</div>
                    <div class="input"> 
                          <input ng-model="i_b_input.style.bgcolor" name="i_bg_color" required type="text">
                          <color-shower style="background:{{i_b_input.style.bgcolor}}"></color-shower>
                          <div class="in-err flash" ng-if="init_bot.i_bg_color.$invalid && err.show">Required !</div>
                   </div>
                  </div> 

                  <div class="in-aria row">
                    <div class="title">Theme Text Color</div>
                    <div class="input"> 
                          <input ng-model="i_b_input.style.color" name="i_color" required type="text">
                          <color-shower style="background:{{i_b_input.style.color}}"></color-shower>
                          <div class="in-err flash" ng-if="init_bot.i_color.$invalid && err.show">Required !</div>
                   </div>
                  </div> 

                  <div class="in-aria row">
                    <div class="title">Bot Height ( in % )</div>
                    <div class="input"> 
                          <input ng-model="i_b_input.style.height" name="i_height" required type="number" min="50" max="100" >
                          <div class="in-err flash" ng-if="init_bot.i_height.$invalid && err.show">Must between 50 to 100% !</div>
                   </div>
                  </div>


                  <div class="in-aria row">
                    <div class="title">Bot Width (in pixel) </div>
                    <div class="input"> 
                          <input ng-model="i_b_input.style.width" name="i_width" required type="number" min="250">
                          <div class="in-err flash" ng-if="init_bot.i_width.$invalid && err.show">Must be more than 250px !</div>
                   </div>
                  </div>


                   <div class="in-aria row">
                    <div class="title">Bot Horizontal position </div>
                    <div class="input"> 
                           <md-radio-group ng-model="i_b_input.style.positionX" name="i_pos_x">

                              <md-radio-button value="right" class="md-primary">Right</md-radio-button>
                              <md-radio-button value="left" class="md-primary"> Left </md-radio-button>

                            </md-radio-group>
                          <div class="in-err flash" ng-if="init_bot.i_pos_x.$invalid && err.show">Must be more than 250px !</div>
                   </div>
                  </div>

                  <div class="in-aria row">
                    <div class="title">Bot Vertical position </div>
                    <div class="input"> 
                           <md-radio-group ng-model="i_b_input.style.positionY" name="i_pos_y">

                              <md-radio-button value="top" class="md-primary">Top</md-radio-button>
                              <md-radio-button value="bottom" class="md-primary"> Bottom </md-radio-button>

                            </md-radio-group>
                          <div class="in-err flash" ng-if="init_bot.i_pos_y.$invalid && err.show">Must be more than 250px !</div>
                   </div>
                  </div>




                </div>

                




                <md-card-actions layout="row" layout-align="end center">
                  
                </md-card-actions>
              </md-card-content>
      </md-card>



      


      </div>
    </md-dialog-content>

    <md-dialog-actions layout="row" ng-show="showSetup" class="fadeInUp anim">
            
      <span flex></span>

      <md-button class="md-primary md-raised" aria-label="Favorite" ng-click="setUpBot()">
                    <!-- <md-icon md-svg-icon="img/icons/favorite.svg"></md-icon> -->Setup
     </md-button>


     <md-button  class="" aria-label="Favorite" ng-click="showSetup = false">
                    <!-- <md-icon md-svg-icon="img/icons/favorite.svg"></md-icon> -->Close
      </md-button>

    </md-dialog-actions>
  </form>
</md-dialog>